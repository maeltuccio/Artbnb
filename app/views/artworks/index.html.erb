<div class="container">
  <h1>Liste des œuvres d'art</h1>
  <% if user_signed_in? %>
    <%= link_to 'Nouvelle œuvre', new_artwork_path, class: "btn" %>
  <% end %>
  <div class="grid">
    <% @artworks.each do |artwork| %>
      <div class="card">
        <% if artwork.image.attached? %>
          <%= image_tag artwork.image.variant(resize_to_limit: [300, 200]), class: "card-image", alt: "Image de #{artwork.title}" %>
        <% else %>
          <div class="card-image-placeholder">Aucune image disponible</div>
        <% end %>
        <div class="card-content">
          <h3 class="card-title"><%= artwork.title %></h3>
          <p class="card-description"><%= truncate(artwork.description, length: 100) %></p>
          <p class="card-price"><%= number_to_currency(artwork.price) %></p>
          <%= link_to 'Voir plus', artwork_path(artwork), class: "btn btn-secondary" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
